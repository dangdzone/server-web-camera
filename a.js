import CryptoJS from "crypto-js"

// var result = "eyJhbW91bnQiOjU1MDAwLCJhbW91bnRfZm9yZWlnbiI6bnVsbCwiYW1vdW50X29yaWdpbmFsIjpudWxsLCJhbW91bnRfcmVxdWVzdCI6NTUwMDAsImJhbmsiOm51bGwsImNhcmRfYnJhbmQiOiJTTUwiLCJjYXJkX2luZm8iOnsiY2FyZF9uYW1lIjoiTkdVWUVOIFZBTiBBIiwiaGFzaF9jYXJkIjoiNTUwNGI5ODA4Y2RhYmU3YmRkMWQ4NWI0MDM5MjBiMjUiLCJjYXJkX2JyYW5kIjoiU01MIiwiY2FyZF9udW1iZXIiOiI5NzA0MDB4eHh4eHgwMDE4In0sImNyZWF0ZWRfYXQiOiIyMDIyLTA0LTEyVDAwOjI2OjAwLjAwMDAwMFoiLCJjdXJyZW5jeSI6IlZORCIsImRlc2NyaXB0aW9uIjoiVGhhbmggVG_DoW4gVGnhu4FuIFPDoWNoICIsImV4Y19yYXRlIjpudWxsLCJmYWlsdXJlX3JlYXNvbiI6bnVsbCwiZm9yZWlnbl9jdXJyZW5jeSI6bnVsbCwiaW52b2ljZV9ubyI6IjYyNTUyOTA5YTZmOWNmYmRmMDdkMDJlZCIsImxhbmciOm51bGwsIm1ldGhvZCI6IkFUTV9DQVJEIiwicGF5bWVudF9ubyI6Mjk0MDE5ODk2MzMxLCJzdGF0dXMiOjUsInRlbm9yIjpudWxsfQ";
// var checksum = "EEE97758746F1949D47413F0D275F7331C622403A4DD360AAB6957AA1B623916";

var result = "eyJhbW91bnQiOjExMDAwLCJhbW91bnRfZm9yZWlnbiI6bnVsbCwiYW1vdW50X29yaWdpbmFsIjpudWxsLCJhbW91bnRfcmVxdWVzdCI6MTEwMDAsImJhbmsiOm51bGwsImNhcmRfYnJhbmQiOiJWSVNBIiwiY2FyZF9pbmZvIjp7ImNhcmRfbmFtZSI6Ik5HVVlFTiBWQU4gQSIsImhhc2hfY2FyZCI6ImQ1OGIyNzYyYTI4OTI2ZDEyMTk1OGY1OGZjZTllMTMzIiwiY2FyZF9icmFuZCI6IlZJU0EiLCJjYXJkX251bWJlciI6IjQ0NTY1M3h4eHh4eDEwMDUifSwiY3JlYXRlZF9hdCI6IjIwMjQtMDYtMDdUMTA6NTA6NTQuMDAwMDAwWiIsImN1cnJlbmN5IjoiVk5EIiwiZGVzY3JpcHRpb24iOiI2NjYyZTVlZTcwYTRmOTY4ZjBiNzA0ZWQiLCJlcnJvcl9jb2RlIjoiMDAwIiwiZXhjX3JhdGUiOm51bGwsImZhaWx1cmVfcmVhc29uIjoiIChWZXJlczpZKSAoUGFyZXM6WSkgKDNEUyB2ZXJzaW9uOjIuMi4wKSAoRUNJOjA1KSBSSUQ6NzE3NzU3NDU5OTgxNjI2MzEwMzk1NSIsImZvcmVpZ25fY3VycmVuY3kiOm51bGwsImludm9pY2Vfbm8iOiI2NjYyZTVlZTcwYTRmOTY4ZjBiNzA0ZWQiLCJsYW5nIjoidmkiLCJtZXRob2QiOiJDUkVESVRfQ0FSRCIsInBheW1lbnRfbm8iOjYyOTA0MjU5ODQ4MzQ2LCJzdGF0dXMiOjUsInRlbm9yIjpudWxsfQ";
var checksum = "99238A67F49DA471D8855CDBD2DFC6F27CCCDCCEF46934FCEAEE6474DEA9D1D8";

var checksum_key = "zlW20K17FMWpm9JhUH1PPSNDxqGLMZ97";

const sha256Data = CryptoJS.SHA256(result + checksum_key);

console.log(checksum);
console.log(sha256Data.toString().toUpperCase());

let buff = Buffer.from(result, 'base64');
let text = buff.toString('ascii');
console.log(text);
